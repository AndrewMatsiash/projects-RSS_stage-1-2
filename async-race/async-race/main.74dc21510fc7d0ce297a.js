(()=>{"use strict";var t,n,e,a,s={881:(t,n,e)=>{e.d(n,{n:()=>s,w:()=>a});const a=t=>`\n<svg class="icon-car"><use xlink:href="sprite.svg#car" fill="${t}"></use></svg>`,s=({id:t,name:n,color:e})=>`\n<div class="general-buttons">\n  <button class="button select-btn color" id="select-car-${t}">select</button>\n  <button class="button remove-btn color" id="remove-car-${t}">remove</button>\n  <span class="car-name"> ${n}</span>\n</div>\n  <div class="road">\n    <div class="launch-pad" >\n      <div class="control-panel">\n        <button class="icon start-engine-btn" id="start-engine-car-${t}">A</button>\n        <button class="icon stop-engine-btn " id="stop-engine-car-${t}" disabled>B</button>\n        <div class="car" id="car-${t}">${a(e)}</div>\n      </div>\n    </div>\n    <div class="flag" id="flag-${t}">üèÅ</div>\n  </div>`},969:(t,n,e)=>{e.d(n,{S:()=>a});const a=()=>'\n    <form class="form" id="create">\n        <input type="text" id="create-name" name="name" value="" />\n        <input type="color" id="create-color" name="color" value="#ffffff" />\n        <button class="button create-btn" type="submit" id="create-btn">create</button>\n      </form>\n      <form class="form" id="update">\n        <input type="text" id="update-name" name="name" disabled value="" />\n        <input type="color" id="update-color" name="color" disabled value="#ffffff"/>\n        <button class="button update-btn" type="submit" disabled id="update-btn">update</button>\n      </form>'},785:(t,n,e)=>{e.a(t,(async(t,a)=>{try{e.d(n,{O:()=>i});var s=e(881),r=e(845),o=t([r]);r=(o.then?(await o)():o)[0];const i=()=>`<h1>Garage(${r.n.carsCount})</h1>\n    <h2>Page${r.n.garagePage}</h2>\n    <ul class="garage">\n    ${r.n.cars.map((t=>`<li>${(0,s.n)(t)}</li>`)).join("")}\n  </ul>`;a()}catch(t){a(t)}}))},12:(t,n,e)=>{e.a(t,(async(t,a)=>{try{e.d(n,{g:()=>i});var s=e(553),r=e(845),o=t([r]);r=(o.then?(await o)():o)[0];const i=async()=>{const{items:t,count:n}=await(0,s.R)(r.n.garagePage);r.n.cars=t,r.n.carsCount=n,7*r.n.garagePage<Number(r.n.carsCount)?document.getElementById("next-btn").disabled=!1:document.getElementById("next-btn").disabled=!0,r.n.garagePage>1?document.getElementById("prev-btn").disabled=!1:document.getElementById("prev-btn").disabled=!0};a()}catch(t){a(t)}}))},845:(t,n,e)=>{e.a(t,(async(t,a)=>{try{e.d(n,{n:()=>d});var s=e(553),r=e(777);const{items:t,count:o}=await(0,s.R)(1),{items:i,count:c}=await(0,r.i)({page:1}),d={garagePage:1,cars:t,carsCount:o,winnersPage:1,animation:{},winners:i,winnersCount:c,order:"",sort:"asc"};a()}catch(t){a(t)}}),1)},698:(t,n,e)=>{e.a(t,(async(t,a)=>{try{e.d(n,{S:()=>i,T:()=>o});var s=e(287),r=t([s]);s=(r.then?(await r)():r)[0];const o=()=>{document.querySelector(".winners").innerHTML=(0,s.V)();const t=document.querySelector(".garage-container"),n=document.querySelector(".winners-container");t.style.display="none",n.style.display="block"},i=()=>{const t=document.querySelector(".garage-container"),n=document.querySelector(".winners-container");t.style.display="block",n.style.display="none"};a()}catch(t){a(t)}}))},130:(t,n,e)=>{e.a(t,(async(t,a)=>{try{e.d(n,{P:()=>c});var s=e(845),r=e(796),o=e(287),i=t([s,r,o]);[s,r,o]=i.then?(await i)():i;const c=async t=>{s.n.order="asc"===s.n.order?"desc":"asc",s.n.sort=t,await(0,r.F)();const n=document.querySelector(".winners");n instanceof HTMLElement&&(n.innerHTML=(0,o.V)())};a()}catch(t){a(t)}}))},564:(t,n,e)=>{e.a(t,(async(t,a)=>{try{e.d(n,{o:()=>m});var s=e(610),r=e(698),o=e(829),i=e(467),c=e(206),d=e(631),l=e(130),u=t([s,r,o,c,d,l]);[s,r,o,c,d,l]=u.then?(await u)():u;const m=()=>{document.body.addEventListener("click",(async t=>{if(t.target instanceof Element){if(t.target.classList.contains("race-btn")){const t=document.querySelector(".reset-btn");t.disabled=!0,await(0,s.xu)(),t.disabled=!1}if(t.target.classList.contains("reset-btn")&&(0,s.p7)(),t.target.classList.contains("start-engine-btn")){const n=+t.target.id.split("start-engine-car-")[1];(0,s.Sz)(n)}if(t.target.classList.contains("stop-engine-btn")){const n=+t.target.id.split("stop-engine-car-")[1];(0,s.sL)(n)}t.target.classList.contains("generation-btn")&&(0,d.x)(),t.target.classList.contains("garage-menu-btn")&&(0,r.S)(),t.target.classList.contains("winners-menu-btn")&&(0,r.T)(),t.target.classList.contains("create-btn")&&(0,o.jt)(),t.target.classList.contains("remove-btn")&&(0,o.ws)(t),t.target.classList.contains("select-btn")&&(0,i.x)(t),t.target.classList.contains("update-btn")&&(0,o.SZ)(),t.target.classList.contains("next-btn")&&(0,c.N)(),t.target.classList.contains("prev-btn")&&(0,c.B)(),t.target.classList.contains("time")&&(0,l.P)("time"),t.target.classList.contains("winners")&&(0,l.P)("wins"),t.target.classList.contains("id")&&(0,l.P)("id")}}))};a()}catch(t){a(t)}}))},829:(t,n,e)=>{e.a(t,(async(t,a)=>{try{e.d(n,{SZ:()=>b,jt:()=>y,ws:()=>p});var s=e(170),r=e(532),o=e(604),i=e(448),c=e(785),d=e(12),l=e(610),u=e(796),m=e(287),g=t([c,d,l,u,m]);[c,d,l,u,m]=g.then?(await g)():g;const y=async()=>{await(0,s.D)((0,l.PD)("create")),await(0,d.g)(),document.querySelector(".garage-wrapper").innerHTML=(0,c.O)()},p=async t=>{if(t.target instanceof Element){const n=+t.target.id.split("remove-car-")[1];await(0,r.t)(n),await(0,d.g)(),document.querySelector(".garage-wrapper").innerHTML=(0,c.O)(),await(0,o.B)(n),await(0,u.F)(),document.querySelector(".winner").innerHTML=(0,m.V)()}},b=async()=>{const t=document.getElementById("update-name"),n=document.getElementById("update-color"),e=document.getElementById("update-btn"),a=t.dataset.id;await(0,i.B)((0,l.PD)("update"),Number(a)),await(0,d.g)(),document.querySelector(".garage-wrapper").innerHTML=(0,c.O)(),t.disabled=!0,n.disabled=!0,e.disabled=!0};a()}catch(t){a(t)}}))},467:(t,n,e)=>{e.d(n,{x:()=>s});var a=e(456);const s=async t=>{if(t.target instanceof Element){const n=+t.target.id.split("select-car-")[1],e=await(0,a.o)(n),s=document.getElementById("update-name"),r=document.getElementById("update-color"),o=document.getElementById("update-btn");s.setAttribute("data-id",n.toString()),s.value=e.name,r.value=e.color,s.disabled=!1,r.disabled=!1,o.disabled=!1}}},206:(t,n,e)=>{e.a(t,(async(t,a)=>{try{e.d(n,{B:()=>u,N:()=>l});var s=e(785),r=e(12),o=e(845),i=e(796),c=e(287),d=t([s,r,o,i,c]);[s,r,o,i,c]=d.then?(await d)():d;const l=async()=>{const t=document.querySelector(".garage-wrapper"),n=document.querySelector(".winners");t instanceof HTMLElement&&n instanceof HTMLElement&&("block"===t.style.display?7*o.n.garagePage<Number(o.n.carsCount)&&(o.n.garagePage+=1,await(0,r.g)(),t.innerHTML=(0,s.O)()):7*o.n.winnersPage<Number(o.n.winnersCount)&&(o.n.winnersPage+=1,await(0,i.F)(),n.innerHTML=(0,c.V)()))},u=async()=>{const t=document.querySelector(".garage-wrapper"),n=document.querySelector(".winners");t instanceof HTMLElement&&n instanceof HTMLElement&&("block"===t.style.display?o.n.garagePage>1&&(o.n.garagePage-=1,await(0,r.g)(),t.innerHTML=(0,s.O)()):o.n.winnersPage>1&&(o.n.winnersPage-=1,await(0,i.F)(),n.innerHTML=(0,c.V)()))};a()}catch(t){a(t)}}))},631:(t,n,e)=>{e.a(t,(async(t,a)=>{try{e.d(n,{x:()=>d});var s=e(170),r=e(785),o=e(12),i=e(610),c=t([r,o,i]);[r,o,i]=c.then?(await c)():c;const d=async()=>{const t=(0,i.cj)();await Promise.all(t.map((async t=>(0,s.D)(t)))),await(0,o.g)(),document.querySelector(".garage-wrapper").innerHTML=(0,r.O)()};a()}catch(t){a(t)}}))},983:(t,n,e)=>{e.d(n,{M:()=>a});const a=()=>'\n <div class="menu">\n      <button class="button garage-menu-btn color">To garage</button>\n      <button class="button winners-menu-btn color">To winners</button>\n    </div>\n'},137:(t,n,e)=>{e.a(t,(async(t,a)=>{try{e.d(n,{s:()=>d});var s=e(969),r=e(785),o=e(983),i=e(287),c=t([r,i]);[r,i]=c.then?(await c)():c;const d=()=>{const t=`\n <header class="header">${(0,o.M)()}</header>\n    <main class="main">\n    <section class="garage-container">\n     ${(0,s.S)()}\n      <div class="race-controls">\n        <button class="button race-btn" id="race">Race</button>\n        <button class="button reset-btn" id="reset">Reset</button>\n        <button class="button generation-btn" id="generation">Generation cars</button>\n      </div>\n      <div class="garage-wrapper"  id="garage" style="display: block">${(0,r.O)()}</div>\n      <div class="massage-wrapper">\n        <div class="massage" id="massage"></div>\n      </div>\n    </section>\n    <section class="winners-container" style="display: none">\n    <div class="winners" id="winners-view" > ${(0,i.V)()}</div>\n    <section>\n\n    </main>\n    <footer class="footer">\n      <div class="pagination">\n        <button class="button prev-btn color" id="prev-btn">Prev</button>\n        <button class="button next-btn color" id="next-btn">Next</button>\n      </div>\n    </footer>\n\n`,n=document.createElement("div");n.classList.add("wrapper"),n.innerHTML=t,document.body.append(n)};a()}catch(t){a(t)}}))},610:(t,n,e)=>{e.a(t,(async(t,a)=>{try{e.d(n,{PD:()=>g,Sz:()=>f,cj:()=>h,p7:()=>L,sL:()=>S,xu:()=>$});var s=e(550),r=e(21),o=e(456),i=e(553),c=e(849),d=e(826),l=e(845),u=e(796),m=t([l,u]);[l,u]=m.then?(await m)():m;const g=t=>{const n=document.getElementById(`${t}`);null==n||n.addEventListener("submit",(t=>t.preventDefault()));const e=new FormData(n);return{name:e.get("name"),color:e.get("color")}},y=["Acura","Alfa Romeo","Alpine","Apollo","Apple","Aston Martin","Audi","Automobili Pininfarina","Bentley","BMW","Bollinger","Brilliance","Bugatti","Buick","BYD","Cadillac","Chana","Chery","Chevrolet","Chrysler","Citroen","Continental","CUPRA","Dacia","Daewoo","Daihatsu","Datsun","Detroit Electric","Dodge","DS Automobiles","FAW","Ferrari","Fiat","Fisker","Ford","Foxtron","Geely","Genesis","GMC","Great Wall","Haval","Honda","Hummer","Hyundai","Ineos","Infiniti","Iran Khodro","JAC","Jaguar","Jeep","JETOUR","KIA","Koenigsegg","Lada","Lamborghini","Lancia","Land Rover","Lexus","Lifan","Lincoln","Lordstown","Lotus","Lucid","LvChi","Lynk & Co","Maserati","Maybach","Mazda","MCLaren","Mercedes-Benz","MG","MINI","Mitsubishi","Nikola","NIO","Nissan","Opel","Pagani","Peugeot","Polestar","Porsche","Qoros","Range Rover","Ravon","Renault","Rimac","Rivian","Rolls-Royce","Saab","Saipa","SEAT","Skoda","smart","SsangYong","SSC North America","Stellantis","Subaru","Suzuki","Tata","Tesla","Torsus","Toyota","VinFast","Volkswagen","Volvo","Xpeng","Zotye"],p=["Durango","Ram","Challenger","Charger","Grand Caravan","X7","X5","X3","X6 M","X6","X1","X4","C3 Aircross","C5 Aircross","Duster","CR-V","Corolla","C4 Cactus","DS3 Crossback","C1","C3","Berlingo Multispace","DS4 Crossback","UX 250h","NX 300h","LC 500","RX 350/200t","Rapid","Largus","IS 200t","LS 500h","RX","ES 200/250/350","Hatchback","CX-5","Sedan","CX-30","CX-9","CX-3","MX-5 Roadster","Phantom","Camry","Polo","Cullinan","Ghost","Dawn","Duster","Arkana","Sandero","Logan","Trafic Fourgon","Logan MCV","Captur","Kadjar","RAV4","Rio","Creta","Solaris"],b=()=>`${y[Math.floor(Math.random()*y.length)]}${p[Math.floor(Math.random()*p.length)]}`,w=()=>{const t="0123456789ABCDEF";let n="#";for(let e=0;e<6;e++)n+=t[Math.floor(Math.random()*t.length)];return n},h=()=>new Array(100).fill(1).map((()=>({name:b(),color:w()})));function v(t,n,e){let a=0;const s={};return s.id=window.requestAnimationFrame((function r(o){a||(a=o);const i=o-a,c=Math.round(i*(n/e));t.style.transform=`translateX(${Math.min(c,n)}px)`,c<n&&(s.id=window.requestAnimationFrame(r))})),s}const f=async t=>{const n=document.getElementById(`car-${t}`),e=document.querySelector(".road"),a=document.querySelector(".flag"),s=document.getElementById(`stop-engine-car-${t}`);document.getElementById(`start-engine-car-${t}`).disabled=!0;const{velocity:o,distance:i}=await(0,c.p)(t),d=Math.round(i/o),u=e.offsetWidth-n.offsetWidth-a.offsetWidth+200;l.n.animation[t]=v(n,u,d);const{success:m}=await(0,r.A)(t);return m||window.cancelAnimationFrame(l.n.animation[t].id),s.disabled=!1,{success:m,id:t,time:d}},S=async t=>{const n=document.getElementById(`stop-engine-car-${t}`),e=document.getElementById(`start-engine-car-${t}`),a=document.getElementById(`car-${t}`);await(0,d.y)(t)&&(window.cancelAnimationFrame(l.n.animation[t]),a.style.transform="translateX(0px)"),n.disabled=!0,e.disabled=!1},$=async()=>{const t=document.getElementById("massage"),{items:n}=await(0,i.R)(l.n.garagePage),e=n.map((t=>t.id)),a=[];for(let t=0;t<e.length;t++){const n=f(e[t]);a.push(n)}const r=(await Promise.all(a)).filter((t=>t.success)).sort(((t,n)=>t.time-n.time))[0],c=await(0,o.o)(r.id);t.classList.add("active"),t.innerText=`wins ${c.name}, time ${r.time/1e3} sec`,await(0,s.P)({id:r.id,wins:1,time:r.time/1e3}),await(0,u.F)()},L=async()=>{const t=document.getElementById("massage"),{items:n}=await(0,i.R)(l.n.garagePage),e=n.map((t=>t.id));for(let t=0;t<e.length;t++)S(e[t]);t.classList.add("active"),t.innerText=""};a()}catch(C){a(C)}}))},796:(t,n,e)=>{e.a(t,(async(t,a)=>{try{e.d(n,{F:()=>i});var s=e(777),r=e(845),o=t([r]);r=(o.then?(await o)():o)[0];const i=async()=>{const{items:t,count:n}=await(0,s.i)({page:r.n.winnersPage,sort:r.n.sort,order:r.n.order});r.n.winners=t,r.n.winnersCount=n};a()}catch(t){a(t)}}))},287:(t,n,e)=>{e.a(t,(async(t,a)=>{try{e.d(n,{V:()=>i});var s=e(881),r=e(845),o=t([r]);r=(o.then?(await o)():o)[0];const i=()=>`\n<h1>Winners (${r.n.winnersCount})</h1>\n<h2>Page ${r.n.winnersPage}</h2>\n<table class="table" cellspading="0" border="0" cellpadding="0">\n  <thead>\n    <th>Number</th>\n    <th class='id'>id</th>\n    <th>Car</th>\n    <th>Name</th>\n    <th class="table-button wins id="sort-by-wins">Wins</th>\n    <th class="table-button time id="sort-by-time">Best time(second)</th>\n  </thead>\n  <tbody>\n\n  ${r.n.winners.map(((t,n)=>`\n    <tr>\n    <td>${n+1}</td>\n    <td>${t.id}</td>\n    <td>${(0,s.w)(t.car.color)}</td>\n    <td>${t.car.name}</td>\n    <td>${t.wins}</td>\n    <td>${t.time}</td>\n    </tr>\n  `)).join("")}\n  </tbody>\n\n</table>\n`;a()}catch(t){a(t)}}))},607:(t,n,e)=>{e.a(t,(async(t,n)=>{try{var a=e(12),s=e(564),r=e(137),o=t([a,s,r]);[a,s,r]=o.then?(await o)():o,(0,r.s)(),(0,s.o)(),(0,a.g)(),alert("–°–ø–∞—Å–∏–±–æ –∑–∞ –ø–æ–Ω–∏–º–∞–Ω–∏–µ! –Ø –Ω–µ –¥–æ–¥–µ–ª–∞–ª updateWinner –¥–ª—è —É–≤–µ–ª–µ—á–µ–Ω–∏—è –ø–æ–±–µ–¥.–û—Å—Ç–∞–ª—å–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –¥–æ–ª–∂–µ–Ω —Ä–∞–±–æ—Ç–∞—Ç—å. –ï—â–µ —Ä–∞–∑ —Å–ø–∞—Å–∏–±–æ –∑–∞ –æ–∂–∏–¥–∞–Ω–∏–µ"),n()}catch(t){n(t)}}))},170:(t,n,e)=>{e.d(n,{D:()=>s});var a=e(387);const s=async t=>(await fetch(a.nS,{method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}})).json()},550:(t,n,e)=>{e.d(n,{P:()=>s});var a=e(387);const s=async t=>(await fetch(`${a.s3}`,{method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}})).json()},532:(t,n,e)=>{e.d(n,{t:()=>s});var a=e(387);const s=async t=>{const n=await fetch(`${a.nS}/${t}`,{method:"DELETE"});return await n.json()}},604:(t,n,e)=>{e.d(n,{B:()=>a});const a=async t=>(await fetch(`http://127.0.0.1:3000/winners/${t}`,{method:"DELETE"})).json()},21:(t,n,e)=>{e.d(n,{A:()=>s});var a=e(387);const s=async t=>200!==(await fetch(`${a.SR}?id=${t}&status=drive`,{method:"PATCH",headers:{"Content-Type":"application/json"}}).catch()).status?{success:!1}:{success:!0}},456:(t,n,e)=>{e.d(n,{o:()=>s});var a=e(387);const s=async t=>{const n=await fetch(`${a.nS}/${t}`);return await n.json()}},553:(t,n,e)=>{e.d(n,{R:()=>s});var a=e(387);const s=async(t,n=7)=>{const e=await fetch(`${a.nS}?_page=${t}&_limit=${n}`);return{items:await e.json(),count:e.headers.get("X-Total-Count")}}},777:(t,n,e)=>{e.d(n,{i:()=>s});var a=e(456);const s=async({page:t,limit:n=10,sort:e,order:s})=>{const r=await fetch(`http://127.0.0.1:3000/winners?_page=${t}&_limit=${n}${((t,n)=>t&&n?`&_sort=${t}&_order=${n}`:"")(e,s)}`),o=await r.json();return{items:await Promise.all(o.map((async t=>Object.assign(Object.assign({},t),{car:await(0,a.o)(t.id)})))),count:r.headers.get("X-Total-Count")}}},387:(t,n,e)=>{e.d(n,{SR:()=>r,nS:()=>s,s3:()=>o});const a="http://127.0.0.1:3000",s=`${a}/garage`,r=`${a}/engine`,o=`${a}/winners`},849:(t,n,e)=>{e.d(n,{p:()=>s});var a=e(387);const s=async t=>(await fetch(`${a.SR}?id=${t}&status=started`,{method:"PATCH",headers:{"Content-Type":"application/json"}})).json()},826:(t,n,e)=>{e.d(n,{y:()=>s});var a=e(387);const s=async t=>(await fetch(`${a.SR}?id=${t}&status=stopped`,{method:"PATCH",headers:{"Content-Type":"application/json"}})).json()},448:(t,n,e)=>{e.d(n,{B:()=>s});var a=e(387);const s=async(t,n)=>fetch(`${a.nS}/${n}`,{method:"PUT",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}})}},r={};function o(t){var n=r[t];if(void 0!==n)return n.exports;var e=r[t]={exports:{}};return s[t](e,e.exports,o),e.exports}t="function"==typeof Symbol?Symbol("webpack queues"):"__webpack_queues__",n="function"==typeof Symbol?Symbol("webpack exports"):"__webpack_exports__",e="function"==typeof Symbol?Symbol("webpack error"):"__webpack_error__",a=t=>{t&&!t.d&&(t.d=1,t.forEach((t=>t.r--)),t.forEach((t=>t.r--?t.r++:t())))},o.a=(s,r,o)=>{var i;o&&((i=[]).d=1);var c,d,l,u=new Set,m=s.exports,g=new Promise(((t,n)=>{l=n,d=t}));g[n]=m,g[t]=t=>(i&&t(i),u.forEach(t),g.catch((t=>{}))),s.exports=g,r((s=>{var r;c=(s=>s.map((s=>{if(null!==s&&"object"==typeof s){if(s[t])return s;if(s.then){var r=[];r.d=0,s.then((t=>{o[n]=t,a(r)}),(t=>{o[e]=t,a(r)}));var o={};return o[t]=t=>t(r),o}}var i={};return i[t]=t=>{},i[n]=s,i})))(s);var o=()=>c.map((t=>{if(t[e])throw t[e];return t[n]})),d=new Promise((n=>{(r=()=>n(o)).r=0;var e=t=>t!==i&&!u.has(t)&&(u.add(t),t&&!t.d&&(r.r++,t.push(r)));c.map((n=>n[t](e)))}));return r.r?d:o()}),(t=>(t?l(g[e]=t):d(m),a(i)))),i&&(i.d=0)},o.d=(t,n)=>{for(var e in n)o.o(n,e)&&!o.o(t,e)&&Object.defineProperty(t,e,{enumerable:!0,get:n[e]})},o.o=(t,n)=>Object.prototype.hasOwnProperty.call(t,n),o(607)})();