(()=>{"use strict";var t,n,a,e,s={881:(t,n,a)=>{a.d(n,{n:()=>s,w:()=>e});const e=t=>`\n<svg class="icon-car"><use xlink:href="sprite.svg#car" fill="${t}"></use></svg>`,s=({id:t,name:n,color:a})=>`\n<div class="general-buttons">\n  <button class="button select-btn color" id="select-car-${t}">select</button>\n  <button class="button remove-btn color" id="remove-car-${t}">remove</button>\n  <span class="car-name"> ${n}</span>\n</div>\n  <div class="road">\n    <div class="launch-pad" >\n      <div class="control-panel">\n        <button class="icon start-engine-btn color" id="start-engine-car-${t}">go</button>\n        <button class="icon stop-engine-btn color" id="stop-engine-car-${t}" disabled>stop</button>\n        <div class="car" id="car-${t}">${e(a)}</div>\n      </div>\n    </div>\n    <div class="flag" id="flag-${t}">üèÅ</div>\n  </div>`},969:(t,n,a)=>{a.d(n,{S:()=>e});const e=()=>'\n    <form class="form" id="create">\n        <input type="text" id="create-name" name="name" value="" />\n        <input type="color" id="create-color" name="color" value="#ffffff" />\n        <button class="button create-btn" type="submit" id="create-btn">create</button>\n      </form>\n      <form class="form" id="update">\n        <input type="text" id="update-name" name="name" disabled value="" />\n        <input type="color" id="update-color" name="color" disabled value="#ffffff"/>\n        <button class="button update-btn" type="submit" disabled id="update-btn">update</button>\n      </form>'},785:(t,n,a)=>{a.a(t,(async(t,e)=>{try{a.d(n,{O:()=>i});var s=a(881),o=a(845),r=t([o]);o=(r.then?(await r)():r)[0];const i=()=>`<h1>Garage(${o.n.carsCount})</h1>\n    <h2>Page${o.n.garagePage}</h2>\n    <ul class="garage">\n    ${o.n.cars.map((t=>`<li>${(0,s.n)(t)}</li>`)).join("")}\n  </ul>`;e()}catch(t){e(t)}}))},12:(t,n,a)=>{a.a(t,(async(t,e)=>{try{a.d(n,{g:()=>i});var s=a(553),o=a(845),r=t([o]);o=(r.then?(await r)():r)[0];const i=async()=>{const{items:t,count:n}=await(0,s.R)(o.n.garagePage);o.n.cars=t,o.n.carsCount=n,7*o.n.garagePage<Number(o.n.carsCount)?document.getElementById("next-btn").disabled=!1:document.getElementById("next-btn").disabled=!0,o.n.garagePage>1?document.getElementById("prev-btn").disabled=!1:document.getElementById("prev-btn").disabled=!0};e()}catch(t){e(t)}}))},845:(t,n,a)=>{a.a(t,(async(t,e)=>{try{a.d(n,{n:()=>d});var s=a(553),o=a(777);const{items:t,count:r}=await(0,s.R)(1),{items:i,count:c}=await(0,o.i)(1),d={garagePage:1,cars:t,carsCount:r,winnersPage:1,animation:{},winners:i,winnersCount:c};e()}catch(t){e(t)}}),1)},698:(t,n,a)=>{a.d(n,{S:()=>s,T:()=>e});const e=()=>{const t=document.querySelector(".garage-container"),n=document.querySelector(".winners-container");t.style.display="none",n.style.display="block"},s=()=>{const t=document.querySelector(".garage-container"),n=document.querySelector(".winners-container");t.style.display="block",n.style.display="none"}},564:(t,n,a)=>{a.a(t,(async(t,e)=>{try{a.d(n,{o:()=>u});var s=a(610),o=a(698),r=a(829),i=a(467),c=a(206),d=a(631),l=t([s,r,c,d]);[s,r,c,d]=l.then?(await l)():l;const u=()=>{document.body.addEventListener("click",(async t=>{if(t.target instanceof Element){if(t.target.classList.contains("race-btn")){const t=document.querySelector(".reset-btn");t.disabled=!0,await(0,s.xu)(),t.disabled=!1}if(t.target.classList.contains("reset-btn")&&(0,s.p7)(),t.target.classList.contains("start-engine-btn")){const n=+t.target.id.split("start-engine-car-")[1];(0,s.Sz)(n)}if(t.target.classList.contains("stop-engine-btn")){const n=+t.target.id.split("stop-engine-car-")[1];(0,s.sL)(n)}t.target.classList.contains("generation-btn")&&(0,d.x)(),t.target.classList.contains("garage-menu-btn")&&(0,o.S)(),t.target.classList.contains("winners-menu-btn")&&(0,o.T)(),t.target.classList.contains("create-btn")&&(0,r.jt)(),t.target.classList.contains("remove-btn")&&(0,r.ws)(t),t.target.classList.contains("select-btn")&&(0,i.x)(t),t.target.classList.contains("update-btn")&&(0,r.SZ)(),t.target.classList.contains("next-btn")&&(0,c.N)(t),t.target.classList.contains("prev-btn")&&(0,c.B)(t)}}))};e()}catch(t){e(t)}}))},829:(t,n,a)=>{a.a(t,(async(t,e)=>{try{a.d(n,{SZ:()=>m,jt:()=>u,ws:()=>g});var s=a(170),o=a(532),r=a(448),i=a(785),c=a(12),d=a(610),l=t([i,c,d]);[i,c,d]=l.then?(await l)():l;const u=async()=>{await(0,s.D)((0,d.PD)("create")),await(0,c.g)(),document.querySelector(".garage-wrapper").innerHTML=(0,i.O)()},g=async t=>{if(t.target instanceof Element){const n=+t.target.id.split("remove-car-")[1];await(0,o.t)(n),await(0,c.g)(),document.querySelector(".garage-wrapper").innerHTML=(0,i.O)()}},m=async()=>{const t=document.getElementById("update-name"),n=document.getElementById("update-color"),a=document.getElementById("update-btn"),e=t.dataset.id;await(0,r.B)((0,d.PD)("update"),Number(e)),await(0,c.g)(),document.querySelector(".garage-wrapper").innerHTML=(0,i.O)(),t.disabled=!0,n.disabled=!0,a.disabled=!0};e()}catch(t){e(t)}}))},467:(t,n,a)=>{a.d(n,{x:()=>s});var e=a(456);const s=async t=>{if(t.target instanceof Element){const n=+t.target.id.split("select-car-")[1],a=await(0,e.o)(n),s=document.getElementById("update-name"),o=document.getElementById("update-color"),r=document.getElementById("update-btn");s.setAttribute("data-id",n.toString()),s.value=a.name,o.value=a.color,s.disabled=!1,o.disabled=!1,r.disabled=!1}}},206:(t,n,a)=>{a.a(t,(async(t,e)=>{try{a.d(n,{B:()=>l,N:()=>d});var s=a(553),o=a(785),r=a(12),i=a(845),c=t([o,r,i]);[o,r,i]=c.then?(await c)():c;const d=async t=>{t.target instanceof Element&&(i.n.garagePage+=1,await(0,s.R)(i.n.garagePage),await(0,r.g)(),document.querySelector(".garage-wrapper").innerHTML=(0,o.O)())},l=async t=>{t.target instanceof Element&&(i.n.garagePage-=1,await(0,s.R)(i.n.garagePage),await(0,r.g)(),document.querySelector(".garage-wrapper").innerHTML=(0,o.O)())};e()}catch(t){e(t)}}))},631:(t,n,a)=>{a.a(t,(async(t,e)=>{try{a.d(n,{x:()=>d});var s=a(170),o=a(785),r=a(12),i=a(610),c=t([o,r,i]);[o,r,i]=c.then?(await c)():c;const d=async()=>{const t=(0,i.cj)();await Promise.all(t.map((async t=>(0,s.D)(t)))),await(0,r.g)(),document.querySelector(".garage-wrapper").innerHTML=(0,o.O)()};e()}catch(t){e(t)}}))},983:(t,n,a)=>{a.d(n,{M:()=>e});const e=()=>'\n <div class="menu">\n      <button class="button garage-menu-btn color">To garage</button>\n      <button class="button winners-menu-btn color">To winners</button>\n    </div>\n'},137:(t,n,a)=>{a.a(t,(async(t,e)=>{try{a.d(n,{s:()=>d});var s=a(969),o=a(785),r=a(983),i=a(287),c=t([o,i]);[o,i]=c.then?(await c)():c;const d=()=>{const t=`\n <header class="header">${(0,r.M)()}</header>\n    <main class="main">\n    <section class="garage-container">\n     ${(0,s.S)()}\n      <div class="race-controls">\n        <button class="button race-btn" id="race">Race</button>\n        <button class="button reset-btn" id="reset">Reset</button>\n        <button class="button generation-btn" id="generation">Generation cars</button>\n      </div>\n      <div class="garage-wrapper" id="garage">${(0,o.O)()}</div>\n      <div class="massage-wrapper">\n        <div class="massage" id="massage"></div>\n      </div>\n    </section>\n    <section class="winners-container" style="display: none">\n    <div class="winners" id="winners-view" >\n        ${(0,i.V)()}\n      </div>\n    <section>\n\n    </main>\n    <footer class="footer">\n      <div class="pagination">\n        <button class="button prev-btn color" id="prev-btn">Prev</button>\n        <button class="button next-btn color" id="next-btn">Next</button>\n      </div>\n    </footer>\n\n`,n=document.createElement("div");n.classList.add("wrapper"),n.innerHTML=t,document.body.append(n)};e()}catch(t){e(t)}}))},610:(t,n,a)=>{a.a(t,(async(t,e)=>{try{a.d(n,{PD:()=>u,Sz:()=>w,cj:()=>y,p7:()=>S,sL:()=>v,xu:()=>f});var s=a(21),o=a(456),r=a(553),i=a(849),c=a(826),d=a(845),l=t([d]);d=(l.then?(await l)():l)[0];const u=t=>{const n=document.getElementById(`${t}`);null==n||n.addEventListener("submit",(t=>t.preventDefault()));const a=new FormData(n);return{name:a.get("name"),color:a.get("color")}},g=["Acura","Alfa Romeo","Alpine","Apollo","Apple","Aston Martin","Audi","Automobili Pininfarina","Bentley","BMW","Bollinger","Brilliance","Bugatti","Buick","BYD","Cadillac","Chana","Chery","Chevrolet","Chrysler","Citroen","Continental","CUPRA","Dacia","Daewoo","Daihatsu","Datsun","Detroit Electric","Dodge","DS Automobiles","FAW","Ferrari","Fiat","Fisker","Ford","Foxtron","Geely","Genesis","GMC","Great Wall","Haval","Honda","Hummer","Hyundai","Ineos","Infiniti","Iran Khodro","JAC","Jaguar","Jeep","JETOUR","KIA","Koenigsegg","Lada","Lamborghini","Lancia","Land Rover","Lexus","Lifan","Lincoln","Lordstown","Lotus","Lucid","LvChi","Lynk & Co","Maserati","Maybach","Mazda","MCLaren","Mercedes-Benz","MG","MINI","Mitsubishi","Nikola","NIO","Nissan","Opel","Pagani","Peugeot","Polestar","Porsche","Qoros","Range Rover","Ravon","Renault","Rimac","Rivian","Rolls-Royce","Saab","Saipa","SEAT","Skoda","smart","SsangYong","SSC North America","Stellantis","Subaru","Suzuki","Tata","Tesla","Torsus","Toyota","VinFast","Volkswagen","Volvo","Xpeng","Zotye"],m=["Durango","Ram","Challenger","Charger","Grand Caravan","X7","X5","X3","X6 M","X6","X1","X4","C3 Aircross","C5 Aircross","Duster","CR-V","Corolla","C4 Cactus","DS3 Crossback","C1","C3","Berlingo Multispace","DS4 Crossback","UX 250h","NX 300h","LC 500","RX 350/200t","Rapid","Largus","IS 200t","LS 500h","RX","ES 200/250/350","Hatchback","CX-5","Sedan","CX-30","CX-9","CX-3","MX-5 Roadster","Phantom","Camry","Polo","Cullinan","Ghost","Dawn","Duster","Arkana","Sandero","Logan","Trafic Fourgon","Logan MCV","Captur","Kadjar","RAV4","Rio","Creta","Solaris"],b=()=>`${g[Math.floor(Math.random()*g.length)]}${m[Math.floor(Math.random()*m.length)]}`,p=()=>{const t="0123456789ABCDEF";let n="#";for(let a=0;a<6;a++)n+=t[Math.floor(Math.random()*t.length)];return n},y=()=>new Array(100).fill(1).map((()=>({name:b(),color:p()})));function h(t,n,a){let e=0;const s={};return s.id=window.requestAnimationFrame((function o(r){e||(e=r);const i=r-e,c=Math.round(i*(n/a));t.style.transform=`translateX(${Math.min(c,n)}px)`,c<n&&(s.id=window.requestAnimationFrame(o))})),s}const w=async t=>{const n=document.getElementById(`car-${t}`),a=document.querySelector(".road"),e=document.querySelector(".flag"),o=document.getElementById(`stop-engine-car-${t}`);document.getElementById(`start-engine-car-${t}`).disabled=!0;const{velocity:r,distance:c}=await(0,i.p)(t),l=Math.round(c/r),u=a.offsetWidth-n.offsetWidth-e.offsetWidth+200;d.n.animation[t]=h(n,u,l);const{success:g}=await(0,s.A)(t);return g||window.cancelAnimationFrame(d.n.animation[t].id),o.disabled=!1,{success:g,id:t,time:l}},v=async t=>{const n=document.getElementById(`stop-engine-car-${t}`),a=document.getElementById(`start-engine-car-${t}`),e=document.getElementById(`car-${t}`);await(0,c.y)(t)&&(window.cancelAnimationFrame(d.n.animation[t]),e.style.transform="translateX(0px)"),n.disabled=!0,a.disabled=!1},f=async()=>{const t=document.getElementById("massage"),{items:n}=await(0,r.R)(d.n.garagePage),a=n.map((t=>t.id)),e=[];for(let t=0;t<a.length;t++){const n=w(a[t]);e.push(n)}const s=(await Promise.all(e)).filter((t=>t.success)).sort(((t,n)=>t.time-n.time)),i=await(0,o.o)(s[0].id);t.classList.add("active"),t.innerText=`wins ${i.name}`},S=async()=>{const t=document.getElementById("massage"),{items:n}=await(0,r.R)(d.n.garagePage),a=n.map((t=>t.id));for(let t=0;t<a.length;t++)v(a[t]);t.classList.add("active"),t.innerText=""};e()}catch($){e($)}}))},287:(t,n,a)=>{a.a(t,(async(t,e)=>{try{a.d(n,{V:()=>i});var s=a(881),o=a(845),r=t([o]);o=(r.then?(await r)():r)[0];const i=()=>`\n<h1>Winners (${o.n.winnersCount})</h1>\n<h2>Page #${o.n.winnersPage}</h2>\n<table class="table" cellspading="0" border="0" cellpadding="0">\n  <thead>\n    <th>Number</th>\n    <th>Car</th>\n    <th>Name</th>\n    <th class="table-button table-wins id="sort-by-wins">Wins</th>\n    <th class="table-button table-time id="sort-by-time">Best time(second)</th>\n  </thead>\n  <tbody>\n\n  ${o.n.winners.map(((t,n)=>`\n    <tr>\n    <td>${n+1}</td>\n    <td>${(0,s.w)("#ffff")}</td>\n    <td>name</td>\n    <td>${t.wins}</td>\n    <td>${t.time}</td>\n    </tr>\n  `)).join("")}\n  </tbody>\n\n</table>\n`;e()}catch(t){e(t)}}))},607:(t,n,a)=>{a.a(t,(async(t,n)=>{try{var e=a(12),s=a(564),o=a(137),r=t([e,s,o]);[e,s,o]=r.then?(await r)():r,(0,o.s)(),(0,s.o)(),(0,e.g)(),alert("–î–æ—Ä–æ–≥–æ–π –ø—Ä–æ–≤–µ—Ä—è—é—â–∏–π, —è –Ω–µ —É—Å–ø–µ–ª –¥–æ–¥–µ–ª–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª, –ø—Ä–æ–≤–µ—Ä—å—Ç–µ, –ø–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤ –≤–µ—á–µ—Ä —á–µ—Ç–≤–µ—Ä–≥–∞. –°–ø–∞—Å–∏–±–æ –±–æ–ª—å—à–æ–µ –∑–∞ –ø–æ–Ω–∏–º–∞–Ω–∏–µ!"),n()}catch(t){n(t)}}))},170:(t,n,a)=>{a.d(n,{D:()=>s});var e=a(387);const s=async t=>(await fetch(e.nS,{method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}})).json()},532:(t,n,a)=>{a.d(n,{t:()=>s});var e=a(387);const s=async t=>{const n=await fetch(`${e.nS}/${t}`,{method:"DELETE"});return await n.json()}},21:(t,n,a)=>{a.d(n,{A:()=>s});var e=a(387);const s=async t=>200!==(await fetch(`${e.SR}?id=${t}&status=drive`,{method:"PATCH",headers:{"Content-Type":"application/json"}}).catch()).status?{success:!1}:{success:!0}},456:(t,n,a)=>{a.d(n,{o:()=>s});var e=a(387);const s=async t=>{const n=await fetch(`${e.nS}/${t}`);return await n.json()}},553:(t,n,a)=>{a.d(n,{R:()=>s});var e=a(387);const s=async(t,n=7)=>{const a=await fetch(`${e.nS}?_page=${t}&_limit=${n}`);return{items:await a.json(),count:a.headers.get("X-Total-Count")}}},777:(t,n,a)=>{a.d(n,{i:()=>s});var e=a(387);const s=async(t,n=10)=>{const a=await fetch(`${e.s3}?_page=${t}&_limit=${n}`);return{items:await a.json(),count:a.headers.get("X-Total-Count")}}},387:(t,n,a)=>{a.d(n,{SR:()=>o,nS:()=>s,s3:()=>r});const e="http://127.0.0.1:3000",s=`${e}/garage`,o=`${e}/engine`,r=`${e}/winners`},849:(t,n,a)=>{a.d(n,{p:()=>s});var e=a(387);const s=async t=>(await fetch(`${e.SR}?id=${t}&status=started`,{method:"PATCH",headers:{"Content-Type":"application/json"}})).json()},826:(t,n,a)=>{a.d(n,{y:()=>s});var e=a(387);const s=async t=>(await fetch(`${e.SR}?id=${t}&status=stopped`,{method:"PATCH",headers:{"Content-Type":"application/json"}})).json()},448:(t,n,a)=>{a.d(n,{B:()=>s});var e=a(387);const s=async(t,n)=>fetch(`${e.nS}/${n}`,{method:"PUT",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}})}},o={};function r(t){var n=o[t];if(void 0!==n)return n.exports;var a=o[t]={exports:{}};return s[t](a,a.exports,r),a.exports}t="function"==typeof Symbol?Symbol("webpack queues"):"__webpack_queues__",n="function"==typeof Symbol?Symbol("webpack exports"):"__webpack_exports__",a="function"==typeof Symbol?Symbol("webpack error"):"__webpack_error__",e=t=>{t&&!t.d&&(t.d=1,t.forEach((t=>t.r--)),t.forEach((t=>t.r--?t.r++:t())))},r.a=(s,o,r)=>{var i;r&&((i=[]).d=1);var c,d,l,u=new Set,g=s.exports,m=new Promise(((t,n)=>{l=n,d=t}));m[n]=g,m[t]=t=>(i&&t(i),u.forEach(t),m.catch((t=>{}))),s.exports=m,o((s=>{var o;c=(s=>s.map((s=>{if(null!==s&&"object"==typeof s){if(s[t])return s;if(s.then){var o=[];o.d=0,s.then((t=>{r[n]=t,e(o)}),(t=>{r[a]=t,e(o)}));var r={};return r[t]=t=>t(o),r}}var i={};return i[t]=t=>{},i[n]=s,i})))(s);var r=()=>c.map((t=>{if(t[a])throw t[a];return t[n]})),d=new Promise((n=>{(o=()=>n(r)).r=0;var a=t=>t!==i&&!u.has(t)&&(u.add(t),t&&!t.d&&(o.r++,t.push(o)));c.map((n=>n[t](a)))}));return o.r?d:r()}),(t=>(t?l(m[a]=t):d(g),e(i)))),i&&(i.d=0)},r.d=(t,n)=>{for(var a in n)r.o(n,a)&&!r.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:n[a]})},r.o=(t,n)=>Object.prototype.hasOwnProperty.call(t,n),r(607)})();